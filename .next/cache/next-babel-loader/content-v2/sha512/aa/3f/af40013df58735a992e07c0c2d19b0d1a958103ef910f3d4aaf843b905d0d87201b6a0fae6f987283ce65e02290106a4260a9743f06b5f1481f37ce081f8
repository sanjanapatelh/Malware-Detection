{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _regeneratorRuntime from \"/home/sanjana/Documents/BMS/FinalYearProjectTest/MalwareDetection/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/sanjana/Documents/BMS/FinalYearProjectTest/MalwareDetection/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/home/sanjana/Documents/BMS/FinalYearProjectTest/MalwareDetection/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/sanjana/Documents/BMS/FinalYearProjectTest/MalwareDetection/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"/home/sanjana/Documents/BMS/FinalYearProjectTest/MalwareDetection/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/home/sanjana/Documents/BMS/FinalYearProjectTest/MalwareDetection/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"/home/sanjana/Documents/BMS/FinalYearProjectTest/MalwareDetection/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/sanjana/Documents/BMS/FinalYearProjectTest/MalwareDetection/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"/home/sanjana/Documents/BMS/FinalYearProjectTest/MalwareDetection/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/home/sanjana/Documents/BMS/FinalYearProjectTest/MalwareDetection/components/TestingForm.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from 'react';\nimport { Form, Input, Message, Button, Card, Grid } from 'semantic-ui-react';\nimport Campaign from '../ethereum/testingNode';\nimport web3 from '../ethereum/web3';\nimport { Router } from '../routes';\nimport Link from 'next/link';\n\nvar ContributeForm = /*#__PURE__*/function (_Component) {\n  _inherits(ContributeForm, _Component);\n\n  var _super = _createSuper(ContributeForm);\n\n  function ContributeForm() {\n    var _this;\n\n    _classCallCheck(this, ContributeForm);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      malwareAddress: '',\n      errorMessage: '',\n      loading: false,\n      perCent: 0\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onSubmit\", /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(event) {\n        var campaign, percent;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                event.preventDefault();\n                campaign = Campaign(_this.props.address);\n                _context.next = 4;\n                return campaign.methods.perCent(_this.state.malwareAddress).call();\n\n              case 4:\n                percent = _context.sent;\n\n                _this.setState({\n                  loading: true,\n                  errorMessage: '',\n                  perCent: percent\n                });\n\n                try {\n                  Router.replaceRoute(\"/campaigns/test/\".concat(_this.props.address));\n                } catch (err) {\n                  _this.setState({\n                    errorMessage: err.message\n                  });\n                }\n\n                _this.setState({\n                  loading: false,\n                  value: ''\n                });\n\n              case 8:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }());\n\n    return _this;\n  }\n\n  _createClass(ContributeForm, [{\n    key: \"renderCards\",\n    value: function renderCards() {\n      var items = [{\n        header: this.state.malwareAddress,\n        meta: 'Address of Malware',\n        description: '',\n        style: {\n          overflowWrap: 'break-word'\n        }\n      }, {\n        header: this.state.perCent,\n        meta: 'Percent malware',\n        description: ''\n      }];\n      return /*#__PURE__*/_jsxDEV(Card.Group, {\n        items: items\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 12\n      }, this);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/_jsxDEV(Form, {\n        error: !!this.state.errorMessage,\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          primary: true,\n          loading: this.state.loading,\n          children: \"Get File!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n          target: \"_blank\",\n          href: \"https://www.hybrid-analysis.com/\",\n          rel: \"noopener noreferrer\",\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            primary: true,\n            loading: this.state.loading,\n            children: \"Analyse File!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Message, {\n          error: true,\n          header: \"Oops!\",\n          content: this.state.errorMessage\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 7\n      }, this);\n    }\n  }]);\n\n  return ContributeForm;\n}(Component);\n\nexport default ContributeForm;","map":{"version":3,"sources":["/home/sanjana/Documents/BMS/FinalYearProjectTest/MalwareDetection/components/TestingForm.js"],"names":["React","Component","Form","Input","Message","Button","Card","Grid","Campaign","web3","Router","Link","ContributeForm","malwareAddress","errorMessage","loading","perCent","event","preventDefault","campaign","props","address","methods","state","call","percent","setState","replaceRoute","err","message","value","items","header","meta","description","style","overflowWrap"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Form, Input, Message, Button ,Card, Grid} from 'semantic-ui-react';\nimport Campaign from '../ethereum/testingNode';\nimport web3 from '../ethereum/web3';\nimport { Router } from '../routes';\nimport Link from 'next/link';\n\nclass ContributeForm extends Component {\n  state = {\n    malwareAddress: '',\n    errorMessage: '',\n    loading: false,\n    perCent: 0,\n  };\n\n  onSubmit = async event => {\n    event.preventDefault();\n\n    const campaign = Campaign(this.props.address);\n\n    const percent = await campaign.methods.perCent(this.state.malwareAddress).call();\n\n    this.setState({ loading: true, errorMessage: '',perCent : percent  });\n\n    try {\n\n\n      Router.replaceRoute(`/campaigns/test/${this.props.address}`);\n    } catch (err) {\n      this.setState({ errorMessage: err.message });\n    }\n\n    this.setState({ loading: false, value: ''});\n  };\n\n  renderCards() {\n\n    const items = [\n      {\n        header: this.state.malwareAddress,\n        meta: 'Address of Malware',\n        description:\n          '',\n        style: { overflowWrap: 'break-word' }\n      },\n      {\n        header: this.state.perCent,\n        meta: 'Percent malware',\n        description:\n          ''\n      }\n    ];\n\n    return <Card.Group items={items} />;\n  }\n\n  render() {\n    return (\n      <Form  error={!!this.state.errorMessage}>\n\n          <Button primary loading={this.state.loading}>\n            Get File!\n          </Button>\n\n\n\n          <a target=\"_blank\" href=\"https://www.hybrid-analysis.com/\" rel=\"noopener noreferrer\">\n\n          <Button primary loading={this.state.loading}>\n            Analyse File!\n          </Button>\n          </a>\n\n       \n\n        <Message error header=\"Oops!\" content={this.state.errorMessage} />\n\n      </Form>\n\n\n\n\n    );\n  }\n}\n\nexport default ContributeForm;\n"]},"metadata":{},"sourceType":"module"}