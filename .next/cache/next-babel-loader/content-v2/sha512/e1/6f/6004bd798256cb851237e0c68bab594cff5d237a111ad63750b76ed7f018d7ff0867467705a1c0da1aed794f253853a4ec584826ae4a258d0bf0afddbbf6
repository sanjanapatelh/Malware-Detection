{"ast":null,"code":"const {\n  Octokit\n} = require(\"@octokit/rest\");\n\nconst {\n  Base64\n} = require(\"js-base64\");\n\nconst fs = require(\"fs\");\n\nrequire(\"dotenv\").config();\n\nconst octokit = new Octokit({\n  auth: process.env.GITHUB_ACCESS_TOKEN\n});\n\nconst main2 = async str => {};\n\nexport default async function handler(req, res) {\n  //uncomment this\n  //   const router = useRouter()\n  //   const {path} = router.queryreturn(<div>{id}</div>)\n  //   const {data}=main1(path)\n  try {\n    const filename = req.header[hash]; //assign as str\n\n    console.log(filename);\n    console.log(req);\n    console.log(req.headers[hash]);\n    const {\n      data\n    } = await octokit.request('GET /repos/{owner}/{repo}/contents/{path}', {\n      owner: 'manjularachana',\n      repo: 'githubApiUsageToUploadDownload',\n      path: filename\n    });\n    console.log(data.html_url);\n    res.status(200).json(data.html_url);\n  } catch (err) {\n    console.error(err);\n  }\n}","map":{"version":3,"sources":["/home/sanjana/Documents/BMS/FinalYearProjectTest/MalwareDetection/pages/api/GetDownloadUrl.js"],"names":["Octokit","require","Base64","fs","config","octokit","auth","process","env","GITHUB_ACCESS_TOKEN","main2","str","handler","req","res","filename","header","hash","console","log","headers","data","request","owner","repo","path","html_url","status","json","err","error"],"mappings":"AAAA,MAAM;AAAEA,EAAAA;AAAF,IAAcC,OAAO,CAAC,eAAD,CAA3B;;AACA,MAAM;AAAEC,EAAAA;AAAF,IAAaD,OAAO,CAAC,WAAD,CAA1B;;AACA,MAAME,EAAE,GAAGF,OAAO,CAAC,IAAD,CAAlB;;AAEAA,OAAO,CAAC,QAAD,CAAP,CAAkBG,MAAlB;;AAEA,MAAMC,OAAO,GAAG,IAAIL,OAAJ,CAAY;AAC1BM,EAAAA,IAAI,EAAEC,OAAO,CAACC,GAAR,CAAYC;AADQ,CAAZ,CAAhB;;AAGA,MAAMC,KAAK,GAAC,MAAMC,GAAN,IAAY,CAEvB,CAFD;;AAGA,eAAe,eAAeC,OAAf,CAAuBC,GAAvB,EAA4BC,GAA5B,EAAgC;AACvC;AAEA;AACA;AACA;AACA,MAAG;AACC,UAAMC,QAAQ,GAACF,GAAG,CAACG,MAAJ,CAAWC,IAAX,CAAf,CADD,CACgC;;AAC/BC,IAAAA,OAAO,CAACC,GAAR,CAAYJ,QAAZ;AACAG,IAAAA,OAAO,CAACC,GAAR,CAAYN,GAAZ;AACAK,IAAAA,OAAO,CAACC,GAAR,CAAYN,GAAG,CAACO,OAAJ,CAAYH,IAAZ,CAAZ;AACA,UAAM;AAACI,MAAAA;AAAD,QAAO,MAAMhB,OAAO,CAACiB,OAAR,CAAgB,2CAAhB,EAA6D;AAC5EC,MAAAA,KAAK,EAAE,gBADqE;AAE5EC,MAAAA,IAAI,EAAE,gCAFsE;AAG5EC,MAAAA,IAAI,EAAEV;AAHsE,KAA7D,CAAnB;AAKEG,IAAAA,OAAO,CAACC,GAAR,CAAYE,IAAI,CAACK,QAAjB;AACAZ,IAAAA,GAAG,CAACa,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBP,IAAI,CAACK,QAA1B;AACD,GAZL,CAaK,OAAOG,GAAP,EAAY;AACbX,IAAAA,OAAO,CAACY,KAAR,CAAcD,GAAd;AACC;AACF","sourcesContent":["const { Octokit } = require(\"@octokit/rest\")\nconst { Base64 } = require(\"js-base64\")\nconst fs = require(\"fs\")\n\nrequire(\"dotenv\").config()\n\nconst octokit = new Octokit({\n  auth: process.env.GITHUB_ACCESS_TOKEN,\n})\nconst main2=async(str)=>{\n\n}\nexport default async function handler(req, res){\n        //uncomment this\n\n        //   const router = useRouter()\n        //   const {path} = router.queryreturn(<div>{id}</div>)\n        //   const {data}=main1(path)\n        try{\n            const filename=req.header[hash]//assign as str\n            console.log(filename);\n            console.log(req);\n            console.log(req.headers[hash])\n            const {data}=await octokit.request('GET /repos/{owner}/{repo}/contents/{path}', {\n                owner: 'manjularachana',\n                repo: 'githubApiUsageToUploadDownload',\n                path: filename\n              })\n              console.log(data.html_url)\n              res.status(200).json(data.html_url)\n            }\n             catch (err) {\n            console.error(err)\n            }\n          }\n"]},"metadata":{},"sourceType":"module"}